<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Muhamad Firman Ardiansyah — Portofolio</title>

  <!-- Icons & Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

  <!-- Style Sheet -->
   <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Scroll progress -->
  <div id="scroll-progress" aria-hidden="true"></div>

  <!-- Header / Navbar -->
  <header id="siteHeader">
    <div class="brand"><i class="ri-fire-fill" aria-hidden="true"></i>PORTOFOLIMENNN</div>

    <nav aria-label="Main navigation">
      <a href="#tentang" class="nav-link" data-section="tentang" title="Tentang"><i class="ri-user-3-line" aria-hidden="true"></i><span>Tentang</span></a>
      <a href="#pengalaman" class="nav-link" data-section="pengalaman" title="Pengalaman"><i class="ri-time-line" aria-hidden="true"></i><span>Pengalaman</span></a>
      <a href="#pendidikan" class="nav-link" data-section="pendidikan" title="Pendidikan"><i class="ri-graduation-cap-line" aria-hidden="true"></i><span>Pendidikan</span></a>
      <a href="#skill" class="nav-link" data-section="skill" title="Skill"><i class="ri-lightbulb-line" aria-hidden="true"></i><span>Skill</span></a>
      <a href="#projek" class="nav-link" data-section="projek" title="Projek"><i class="ri-window-line" aria-hidden="true"></i><span>Projek</span></a>
       <a href="#sertifikat" class="nav-link" data-section="sertifikat" title="Sertifikat"><i class="ri-window-line" aria-hidden="true"></i><span>Sertifikat</span></a>
    </nav>

    <div class="controls">
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" title="Toggle theme" aria-pressed="false"><i class="ri-moon-line" aria-hidden="true"></i></button>
    </div>
  </header>

  <!-- HERO -->
<section class="hero" id="home" aria-label="Hero">
  <div class="left">
  <h1><span class="name-accent">Muhamad Firman Ardiansyah</span></h1>
<h2 "aria-hidden="true">Web Developer · UI/UX Designer</h2>
<p>
  Membangun website interaktif dan antarmuka intuitif dengan fokus pada performa dan pengalaman pengguna. 
  Mengasah skill front-end & back-end, desain UI, dan kreativitas digital. 
  Berpengalaman mengelola proyek portofolio dan berkolaborasi dalam tim.
</p>
<!-- 
    <div class="cta">
      <button class="btn btn-primary" id="seeProjects">Lihat Projek</button>
      <button class="btn btn-ghost" id="openCvPreview">Download CV</button>
    </div>
    -->
  </div>

  <div class="photo-wrap" id="photoWrap" aria-hidden="true">
  <div class="photo-bg" aria-hidden="true"></div>
  <div class="photo-carousel" id="photoCarousel" role="img" aria-label="Foto profil Muhamad Firman Ardiansyah">
    <img src="storage/Foto Profil 1.jpeg" alt="Foto 1">
    <img src="storage/Foto Profil 2.jpeg" alt="Foto 2">
    <img src="storage/Foto Profil 3.jpeg" alt="Foto 3">
  </div>
  <div class="photo-tag">Muhamad Firman Ardiansyah</div>
</div>

</section>

  <!-- TENTANG -->
<section id="tentang" class="fade-in" tabindex="-1">
  <div class="section-title"><i class="ri-user-3-line" aria-hidden="true"></i> Tentang Saya</div>
  
  <div class="tentang-card">
  <p>
  Saya seorang Web Developer yang berfokus membangun produk digital rapi, cepat, dan interaktif. 
  Dari front-end hingga back-end sederhana, saya selalu mengutamakan detail, performa optimal, dan desain menarik. 
  Selama ini saya telah mengembangkan berbagai proyek portofolio, website rental motor, game platformer, hingga kuis PPL, yang semuanya menekankan kreativitas dan efisiensi pengembangan. 
  Pengalaman saya juga mencakup pelatihan Front-End Development di Binar Academy, pengembangan skill teknis di HTML, CSS, JavaScript, PHP, Laravel, SQL, Figma, Unity, serta keterlibatan aktif di organisasi Paskibra dan Paskibraka. 
  Semua pengalaman ini mengajarkan disiplin, ketelitian, kerja sama tim, manajemen tanggung jawab, dan strategi penyelesaian masalah, yang saya terapkan di setiap proyek untuk menghasilkan produk digital berkualitas tinggi dan menyenangkan digunakan.
</p>



    <div class="stats">
      <div class="stat">
        <div class="stat-circle"><i class="ri-book-line stat-icon"></i></div>
        <h3 class="count" data-target="8">0</h3>
        <p>Sertifikat</p>
      </div>
      <div class="stat">
        <div class="stat-circle"><i class="ri-star-line stat-icon"></i></div>
        <h3 class="count" data-target="7">0</h3>
        <p>Skill utama</p>
      </div>
       <div class="stat">
        <div class="stat-circle"><i class="ri-folder-line stat-icon"></i></div>
        <h3 class="count" data-target="3">0</h3>
        <p>Proyek</p>
      </div>
    </div>
  </div>
</section>


    <!-- PENGALAMAN -->
<section id="pengalaman" class="fade-in" tabindex="-1">
  <div class="section-title"><i class="ri-time-line" aria-hidden="true"></i> Pengalaman</div>
  <div class="timeline">
    
    <div class="timeline-item">
      <strong>Paskibra & Paskibraka (2024)</strong>
      <div style="margin-top:6px">
  Terpilih menjadi Pelatih Paskibraka Kabupaten Ciamis (2024), membimbing anggota dalam latihan upacara resmi, baris-berbaris, dan prosedur protokoler.  
  Menjadi Ketua Paskibra SMKN 1 Kawali (2024–2025), memimpin latihan, membimbing anggota baru, dan memastikan semua kegiatan berjalan tertib.  
  Menjabat sebagai Sekretaris Wilayah III Kawali (pengurus kabupaten) untuk koordinasi kegiatan Paskibra, mengatur administrasi, komunikasi antar tim, dan mendukung pelaksanaan program resmi.  
  Menjadi Wakil Komandan Korps Binlat, memantau progres anggota dan memastikan pemahaman prosedur upacara.  
  Terpilih sebagai anggota Paskibraka Tingkat Provinsi Jawa Barat, mengikuti latihan intensif, meningkatkan disiplin, kemampuan teamwork, dan pengalaman tampil di acara formal tingkat provinsi.  
  Mengikuti Diklat PIP & Purna Paskibraka Duta Pancasila untuk pengembangan kepemimpinan, karakter, dan nilai-nilai nasionalisme.  
  Mengikuti Kegiatan PBN (Pendidikan Bela Negara) yang menanamkan semangat patriotisme, kedisiplinan, dan tanggung jawab sebagai warga negara aktif.  
  Sebelumnya juga menjadi Pelatih Paskibra Kecamatan Kawali, mengajarkan teknik baris-berbaris dan mempersiapkan calon anggota untuk upacara resmi.
</div>
    </div>
<div class="timeline-item">
  <strong>Pelatihan Web Binar (2023)</strong>
  <div style="margin-top:6px">
    Mengikuti pelatihan Front-End Development di Binar Academy.  
    Mengerjakan berbagai proyek kecil secara tim, mempelajari praktik terbaik dalam membuat website interaktif, 
    serta meningkatkan kemampuan HTML, CSS, dan JavaScript.  
    Pelatihan ini juga melatih kolaborasi, komunikasi dalam tim, dan manajemen waktu saat menyelesaikan tugas proyek.
  </div>
</div>

<div class="timeline-item">
  <strong>Peringatan Menacik Silat (2022)</strong>
  <div style="margin-top:6px">
    Berpartisipasi dalam kejuaraan silat tingkat daerah.  
    Kegiatan ini melatih fokus, ketangkasan, dan sportivitas.  
    Selain itu, pengalaman kompetitif menambah kemampuan manajemen stres, strategi saat tampil di depan umum, dan membentuk mental juara dalam menghadapi tantangan.
  </div>
</div>

<div class="timeline-item">
  <strong>Kursus B. Indonesia & Matematika (2015–2018)</strong>
  <div style="margin-top:6px">
    Mengikuti les privat untuk meningkatkan kemampuan akademik, khususnya Bahasa Indonesia dan Matematika.  
    Kegiatan ini membantu membangun dasar yang kuat dalam logika, analisis, dan kemampuan menulis yang baik.  
    Selain itu, kursus ini meningkatkan disiplin belajar dan rasa percaya diri dalam menghadapi ujian atau tugas sekolah.
  </div>
</div>


  </div>
</section>


   <!-- PENDIDIKAN -->
<section id="pendidikan" class="fade-in" tabindex="-1">
  <div class="section-title"><i class="ri-graduation-cap-line" aria-hidden="true"></i> Pendidikan</div>
  <div class="timeline">
    
    <div class="timeline-item">
      <strong>SMKN 1 Kawali (2023–Sekarang)</strong>
      <div style="margin-top:6px">
        Saat ini menempuh jurusan Pengembangan Perangkat Lunak & Gim (PPLG).  
        Fokus belajar pembuatan aplikasi, pengembangan web, desain UI/UX, serta pemrograman back-end dan front-end.  
        Aktif mengikuti proyek sekolah, lomba, dan pelatihan tambahan untuk memperluas kemampuan teknis dan kreatif.
      </div>
    </div>

    <div class="timeline-item">
      <strong>SMPN 1 Panawangan (2020–2023)</strong>
      <div style="margin-top:6px">
        Menempuh pendidikan menengah pertama dengan aktif mengikuti berbagai kegiatan sekolah dan prestasi akademik.  
        Berpartisipasi dalam ekstrakurikuler dan kompetisi antar siswa untuk mengembangkan soft skill, kerja sama tim, dan disiplin belajar.
      </div>
    </div>

  </div>
</section>

<!-- SKILL -->
<section id="skill" class="fade-in" tabindex="-1">
  <div class="section-title">
    <i class="ri-lightbulb-line"></i> Skill
  </div>

  <div class="skills-container">
    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-html5-line skill-icon"></i>
        <strong>HTML / CSS</strong>
      </div>
      <div class="skill-status expert">Mahir</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-javascript-line skill-icon"></i>
        <strong>JavaScript</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-code-s-slash-line skill-icon"></i>
        <strong>PHP & Laravel</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-database-2-line skill-icon"></i>
        <strong>SQL</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
       <i class="ri-brush-line skill-icon"></i>
        <strong>Figma</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-pencil-ruler-2-line skill-icon"></i>
        <strong>PiscArt & Canva</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>

    <div class="skill-card">
      <div class="skill-header">
        <i class="ri-game-line skill-icon"></i>
        <strong>Unity</strong>
      </div>
      <div class="skill-status intermediate">Menengah</div>
    </div>
  </div>
</section>

<style>
.skills-container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 16px; /* jarak antar kartu */
  margin-top: 20px;
  padding: 10px;
  /* background dihapus supaya tidak cream */
  border-radius: 1rem;
}

.skill-card {
  background: var(--card);
  color: var(--text);
  padding: 14px;
  border-radius: 14px;
  text-align: center;
  width: 140px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.skill-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 10px 24px rgba(0,0,0,0.2);
}

.skill-header {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  margin-bottom: 10px;
}

.skill-icon {
  font-size: 1.8rem;
  color: #f5d7b8; /* cream sawo matang */
}

.skill-status {
  font-weight: 600;
  font-size: 0.85rem;
  padding: 3px 8px;
  border-radius: 10px;
  background: rgba(255,255,255,0.1);
}

.skill-status.expert { background:#4caf50; color:#fff; }
.skill-status.intermediate { background:#ffc107; color:#fff; }
.skill-status.beginner { background:#f44336; color:#fff; }

@media (max-width: 600px) {
  .skill-card { padding: 10px; width: 120px; }
  .skill-icon { font-size: 1.6rem; }
  .skill-status { font-size: 0.8rem; padding: 3px 6px; }
}
</style>




<!-- PROJECTS -->
<section id="projek" class="fade-in" tabindex="-1">
  <div class="section-title">
    <i class="ri-window-line" aria-hidden="true"></i> Proyek
  </div>

  <div class="projects">
    <!-- Project 1 -->
    <div class="project-card" tabindex="0">
      <div class="project-image">
        <img src="storage/Proyek 2.jpeg" alt="Website Portfolio">
      </div>
      <div class="project-content">
        <h4>Steve's Journey</h4>
        <p>Game platformer 2D dengan level menantang, kontrol responsif, dan visual yang menarik untuk pengalaman bermain yang seru.</p>
        <a href="#" class="project-btn">Lihat Detail <i class="ri-arrow-right-line"></i></a>
      </div>
    </div>

    <!-- Project 2 -->
    <div class="project-card" tabindex="0">
      <div class="project-image">
        <img src="storage/Proyek 1.jpeg" alt="Landing Page Sekolah">
      </div>
      <div class="project-content">
        <h4>Website Rental Motor</h4>
        <p>Platform sewa motor online yang mudah digunakan, responsif, dan memungkinkan pengguna melakukan booking dengan cepat dan aman.<p>
        <a href="#" class="project-btn">Lihat Detail <i class="ri-arrow-right-line"></i></a>
      </div>
    </div>

    <!-- Project 3 -->
    <div class="project-card" tabindex="0">
      <div class="project-image">
        <img src="storage/Proyek 3.jpeg" alt="Proyek Lain">
      </div>
      <div class="project-content">
        <h4>Code & Cloud PPL Quiz</h4>
        <p>Kuis interaktif untuk latihan PPLG — menekankan logika pemrograman, kreativitas, dan pengalaman pengguna yang menyenangkan.</p>
        <a href="#" class="project-btn">Lihat Detail <i class="ri-arrow-right-line"></i></a>
      </div>
    </div>
  </div>
</section>


<!-- SERTIFIKAT -->
<section id="sertifikat" class="fade-in" tabindex="-1">
  <div class="section-title">
    <i class="ri-award-line"></i> Sertifikat & Piagam Penghargaan
  </div>
<div class="certificates">
  <!-- Sertifikat 1 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 8.jpeg" alt="Sertifikat Pidato Remaja">
    <div class="certificate-content">
      <h4>Juara 1 Pidato Remaja</h4>
      <p>Prestasi juara 1 lomba pidato tingkat remaja.</p>
    </div>
  </div>

  <!-- Sertifikat 2 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 2.jpeg" alt="Sertifikat Dicoding Indonesia">
    <div class="certificate-content">
      <h4>Dicoding Indonesia</h4>
      <p>Penghargaan sertifikasi skill digital dari Dicoding.</p>
    </div>
  </div>

  <!-- Sertifikat 3 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 3.jpeg" alt="Sertifikat JavaScript Dasar">
    <div class="certificate-content">
      <h4>Digitech Indonesia</h4>
      <p>Sertifikat dasar membuat Landing Page dari Progate.</p>
    </div>
  </div>

  <!-- Sertifikat 4 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 1.jpeg" alt="Sertifikat Paskibraka Prov. Jawa Barat">
    <div class="certificate-content">
      <h4>Paskibraka Prov. Jawa Barat</h4>
      <p>Partisipasi aktif sebagai anggota Paskibraka provinsi.</p>
    </div>
  </div>

  <!-- Sertifikat 5 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 5.jpeg" alt="Sertifikat Pelatih Paskibra 2025">
    <div class="certificate-content">
      <h4>Pelatih Paskibra 2025</h4>
      <p>Pengalaman menjadi pelatih paskibra tingkat sekolah.</p>
    </div>
  </div>

  <!-- Sertifikat 6 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 6.jpeg" alt="Sertifikat Paskibra Tingkat Kec. Kawali">
    <div class="certificate-content">
      <h4>Paskibra Tingkat Kec. Kawali</h4>
      <p>Partisipasi aktif pada kegiatan Paskibra kecamatan.</p>
    </div>
  </div>

  <!-- Sertifikat 7 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 7.jpeg" alt="Sertifikat Panitia Pusdiklatsar 2025">
    <div class="certificate-content">
      <h4>Panitia Pusdiklatsar 2025</h4>
      <p>Menjadi bagian panitia pelatihan dasar kepemimpinan.</p>
    </div>
  </div>

  <!-- Sertifikat 8 -->
  <div class="certificate-card">
    <img src="storage/Sertifikat 4.jpeg" alt="Sertifikat Diklat Duta Pancasila">
    <div class="certificate-content">
      <h4>Diklat Duta Pancasila</h4>
      <p>Menyelesaikan pelatihan dan pembinaan Duta Pancasila.</p>
    </div>
  </div>
</div>


  </div>
</section>
<!-- Floating Socials -->
<div class="socials" aria-hidden="true">
  <a href="https://github.com/Muhamaddfirmann17" target="_blank" rel="noopener noreferrer" title="Github"><i class="ri-github-fill"></i></a>
  <a href="https://www.linkedin.com/in/muhamad-firman-ardiansyah-b8961138a?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=android_app" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="ri-linkedin-box-fill"></i></a>
  <a href="https://instagram.com/arrdianoo_.f" target="_blank" rel="noopener noreferrer" title="Instagram"><i class="ri-instagram-line"></i></a>
  <a href="https://tiktok.com/@ardeauxzx17" target="_blank" rel="noopener noreferrer" title="Tiktok"><i class="ri-tiktok-line"></i></a>
</div>

<style>

/* =======================
   Footer + Contact
======================= */
footer {
  background: var(--soft);
  color: var(--text);
  padding: 40px 20px;
  font-size: 0.95rem;
}

.footer-container {
  max-width: 700px;
  margin: 0 auto;
  display: flex;
  flex-direction: column; /* center all */
  align-items: center;
  gap: 24px;
  text-align: center;
}

/* Brand: tetap kontras di dark mode */
.footer-brand {
  display: flex;
  align-items: center;
  gap: 8px;
  font-weight: 600;
  font-size: 1.3rem;
  color: #5b3e2b; /* warna tetap terlihat */
}

/* Contact info */
.footer-contact {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-width: 500px;
}

.contact-link {
  color: var(--accent);
  font-weight: 600;
  text-decoration: none;
  transition: color 0.25s;
}

.contact-link:hover {
  color: var(--accent-2);
  text-decoration: underline;
}


/* Copyright */
.footer-copy {
  width: 100%;
  text-align: center;
  margin-top: 24px;
  font-size: 0.85rem;
  color: #888; /* tetap abu, tidak berubah di dark mode */
}

/* Responsive: semua center */
@media (max-width: 600px) {
  .footer-container {
    gap: 16px;
    padding: 0 10px;
  }

  .footer-contact {
    max-width: 100%;
  }
}

@media (max-width: 900px) {
  .footer-container {
    gap: 20px;
  }

  .footer-contact {
    max-width: 100%;
  }
}

/* Floating socials (optional, tetap di pinggir) */
.socials {
  position: fixed;
  bottom: 24px;
  right: 24px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  z-index: 999;
}

.socials a {
  display: flex;
  width: 48px;
  height: 48px;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  background: var(--accent);
  color: #fff;
  font-size: 1.25rem;
  transition: transform .25s, background .25s;
}

.socials a:hover {
  transform: scale(1.15) rotate(10deg);
  background: var(--accent-2);
}

</style>

 <footer>
  <div class="footer-container">
    <!-- Brand -->
    <div class="footer-brand">
      <i class="ri-fire-fill"></i>
      <strong>PORTOFOLIMENNNN</strong>
    </div>

    <!-- Contact Card dengan ikon -->
<div class="footer-contact-card">
  <p><h4>Kontak saya melalui email, telepon, atau kunjungi alamat berikut :</h4></p>
  <br>

  <p><i class="ri-mail-line" style="margin-right:6px;"></i>
    <strong>Email:</strong> 
    <a href="mailto:muhamad.firman3801@smk.belajar.id" class="contact-link">
      muhamad.firman3801@smk.belajar.id
    </a>
  </p>

  <p><i class="ri-phone-line" style="margin-right:6px;"></i>
    <strong>Telepon:</strong> 
    <a href="tel:+6285694553207" class="contact-link">
      +62 856 9455 3207
    </a>
  </p>

  <p><i class="ri-map-pin-line" style="margin-right:6px;"></i>
    <strong>Alamat:</strong> 
    Jl. Sagalaherang no.26, Dusun/Desa Panawangan RT01/RW02, Kec. Panawangan, Kab. Ciamis, Jawa Barat
  </p>
</div>


  <div class="footer-copy">
    © 2025 Muhamad Firman Ardiansyah — Semua Hak Dilindungi
  </div>
</footer>

<script>
/***********************
 * Helpers
 ***********************/
const $ = (sel, root=document) => root.querySelector(sel);
const $$ = (sel, root=document) => Array.from(root.querySelectorAll(sel));

const progressEl = $('#scroll-progress');
const header = $('#siteHeader');
const navLinks = $$('.nav-link');
const sections = navLinks.map(a => document.querySelector(a.getAttribute('href')));
const themeToggle = $('#themeToggle');
const rootEl = document.documentElement;

// Set initial theme
const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'dark' || savedTheme === 'light') {
  rootEl.setAttribute('data-theme', savedTheme==='dark'?'dark':'');
} else {
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  if (prefersDark) rootEl.setAttribute('data-theme','dark');
}
updateThemeIcon();

function setTheme(name){
  if(name==='dark'){
    rootEl.setAttribute('data-theme','dark');
    localStorage.setItem('theme','dark');
  } else {
    rootEl.removeAttribute('data-theme');
    localStorage.setItem('theme','light');
  }
  updateThemeIcon();
}

themeToggle.addEventListener('click', ()=>{
  const isDark = rootEl.getAttribute('data-theme')==='dark';
  setTheme(isDark?'light':'dark');
});

function updateThemeIcon(){
  const isDark = rootEl.getAttribute('data-theme')==='dark';
  themeToggle.innerHTML = isDark ? '<i class="ri-sun-line" aria-hidden="true"></i>' : '<i class="ri-moon-line" aria-hidden="true"></i>';
  themeToggle.setAttribute('aria-pressed', isDark?'true':'false');
}

/***********************
 * Scroll handler
 ***********************/
function onScroll() {
  const doc = document.documentElement;
  const percent = (doc.scrollTop / (doc.scrollHeight - doc.clientHeight)) * 100 || 0;
  progressEl.style.width = percent + '%';
  header.classList.toggle('scrolled', window.scrollY>60);

  const fromTop = window.scrollY + 120;
  for(let i=0;i<sections.length;i++){
    const s = sections[i]; const link = navLinks[i];
    if(!s || !link) continue;
    if(s.offsetTop <= fromTop && s.offsetTop + s.offsetHeight > fromTop){
      navLinks.forEach(a=>a.classList.remove('active'));
      link.classList.add('active');
    }
  }
}
window.addEventListener('scroll', onScroll, {passive:true});
window.addEventListener('load', onScroll);

navLinks.forEach(a=>{
  a.addEventListener('click',(e)=>{
    e.preventDefault();
    const target = document.querySelector(a.getAttribute('href'));
    if(target){
      target.scrollIntoView({behavior:'smooth', block:'start'});
      setTimeout(()=>{ target.setAttribute('tabindex','-1'); target.focus({preventScroll:true}); },600);
    }
  });
});

/***********************
 * Fade-in intersection
 ***********************/
const faders = $$('.fade-in');
const appearOpts = {threshold:.18};
const appearOnScroll = new IntersectionObserver((entries, obs)=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){
      entry.target.classList.add('visible');
      obs.unobserve(entry.target);
    }
  });
}, appearOpts);
faders.forEach(f=>appearOnScroll.observe(f));

/***********************
 * Counters
 ***********************/
const counters = $$('.count');
counters.forEach(c=>{
  const target = Number(c.dataset.target)||0;
  let started = false;
  const io = new IntersectionObserver((entries, obs)=>{
    entries.forEach(en=>{
      if(en.isIntersecting && !started){
        started=true;
        animateCount(c, target, 800);
        obs.unobserve(c);
      }
    });
  }, {threshold:.6});
  io.observe(c);
});

function animateCount(el,to,duration=800){
  const start = performance.now(); const from=0;
  function step(now){
    const t=Math.min(1,(now-start)/duration);
    const eased = t<0.5?2*t*t:-1+(4-2*t)*t;
    const val = Math.round(from+(to-from)*eased);
    el.textContent = val;
    if(t<1) requestAnimationFrame(step);
    else el.textContent = to;
  }
  requestAnimationFrame(step);
}

/***********************
 * Skill bars
 ***********************/
const skillFills = $$('.fill');
skillFills.forEach(fill=>{
  const percent = Math.max(0, Math.min(100, Number(fill.dataset.percent)||0));
  const obs = new IntersectionObserver((entries,o)=>{
    entries.forEach(en=>{
      if(en.isIntersecting){
        fill.style.width = percent+'%';
        o.unobserve(fill);
      }
    });
  }, {threshold:.25});
  obs.observe(fill);
});

/***********************
 * Hero photo carousel + tilt
 ***********************/
const photoWrap = $('#photoWrap');
const photoCard = $('#photoCard'); // kalau masih pake single card untuk tilt
const photoCarousel = $('#photoCarousel');

if(photoCarousel){
  const imgs = $$('img', photoCarousel);
  let currentPhoto = 0;

  function showPhoto(index){
    imgs.forEach((img,i)=> img.classList.toggle('active', i===index));
  }

  showPhoto(currentPhoto);
  setInterval(()=>{
    currentPhoto = (currentPhoto +1)%imgs.length;
    showPhoto(currentPhoto);
  },4000);
}

// Tilt/parallax effect on hover (foto aktif)
if(photoWrap && photoCard){
  photoWrap.addEventListener('mousemove', (e)=>{
    const rect = photoWrap.getBoundingClientRect();
    const x = (e.clientX - rect.left)/rect.width -0.5;
    const y = (e.clientY - rect.top)/rect.height -0.5;
    const rotX = (-y*8).toFixed(2);
    const rotY = (x*10).toFixed(2);
    photoCard.style.transform = `translateZ(20px) rotateX(${rotX}deg) rotateY(${rotY}deg) scale(1.02)`;
  });
  photoWrap.addEventListener('mouseleave', ()=>{
    photoCard.style.transform = 'translateZ(0) rotateX(0) rotateY(0) scale(1)';
  });
  photoCard.addEventListener('dragstart', e=>e.preventDefault());
}

/***********************
 * CV modal
 ***********************/
const cvOverlay = $('#cvOverlay');
const openCvBtn = $('#openCvPreview');
const closeCv = $('#closeCv');
const closeCv2 = $('#closeCv2');

function setOverlay(o,show){
  if(!o) return;
  o.classList.toggle('open',!!show);
  o.setAttribute('aria-hidden',!!show?'false':'true');
}

if(openCvBtn) openCvBtn.addEventListener('click', ()=>setOverlay(cvOverlay,true));
if(closeCv) closeCv.addEventListener('click', ()=>setOverlay(cvOverlay,false));
if(closeCv2) closeCv2.addEventListener('click', ()=>setOverlay(cvOverlay,false));
cvOverlay.addEventListener('click',(e)=>{if(e.target===cvOverlay)setOverlay(cvOverlay,false);});

/***********************
 * Projects modal
 ***********************/
const projectOverlay = $('#projectOverlay');
const projectTitle = $('#projectTitle');
const projectBody = $('#projectBody');
const projectLink = $('#projectLink');
const closeProject = $('#closeProject');

$$('.project-card').forEach(card=>{
  const open = ()=>{
    const title = card.dataset.title || 'Proyek';
    const desc = card.dataset.desc || '';
    const link = card.dataset.link || '#';
    projectTitle.textContent = title;
    projectBody.textContent = desc;
    projectLink.href = link;
    setOverlay(projectOverlay,true);
  };
  card.addEventListener('click',open);
  card.addEventListener('keypress',(e)=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();open();}});
});

if(closeProject) closeProject.addEventListener('click',()=>setOverlay(projectOverlay,false));
projectOverlay.addEventListener('click',(e)=>{if(e.target===projectOverlay)setOverlay(projectOverlay,false);});

/***********************
 * Escape key closes overlays
 ***********************/
window.addEventListener('keydown',(e)=>{
  if(e.key==='Escape'){
    setOverlay(cvOverlay,false);
    setOverlay(projectOverlay,false);
  }
});

/***********************
 * See Projects button
 ***********************/
const seeProjects = $('#seeProjects');
if(seeProjects) seeProjects.addEventListener('click',()=>{
  const proj = $('#projek');
  if(proj) proj.scrollIntoView({behavior:'smooth', block:'start'});
});

/***********************
 * Accessibility focus outlines
 ***********************/
document.addEventListener('keyup',(e)=>{
  if(e.key==='Tab') document.documentElement.classList.add('show-focus');
});
</script>

</body>
</html>
